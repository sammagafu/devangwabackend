import{r as a,M as Z,L as q,N as J,z as r,c as h,B as e,A as l,E as i,F as S,C as T,I as w,o as m,G as k,D as K,R as E}from"./index-DX0kaMnH.js";const Q={class:"grid"},W={class:"col-12"},X={class:"card"},Y={class:"my-2"},ee={class:"text-2xl font-raleway font-bold text-devanga-primary"},oe={class:"card"},se={class:"flex items-center gap-2"},le={class:"font-bold"},te={class:"flex flex-wrap items-center justify-between gap-4"},ae={class:"flex items-center gap-2"},ne=["innerHTML"],ie={class:"card pt-6"},de={class:"flex flex-row gap-2 justify-between"},re={class:"text-lg"},ue=e("hr",null,null,-1),ce={class:"flex gap-2"},ve=e("div",{class:"text-center"},[e("h3",{class:"font-bold whitespace-nowrap"},"Create Or Add New Video")],-1),me={class:"flex flex-col gap-4 mb-4"},fe=e("label",{for:"videoname",class:"font-raleway"},"Enter Video Name",-1),pe={class:"flex flex-col gap-4 mb-4"},_e=e("label",{for:"videoname",class:"font-raleway"},"Paste Video Url",-1),ye={class:"flex justify-items-end"},be=e("div",{class:"text-center"},[e("h3",{class:"font-bold whitespace-nowrap"},"Create Or Add New Video")],-1),ge={class:"flex flex-col gap-4 mb-4"},xe=e("label",{for:"modulename",class:"font-raleway"},"Module Name",-1),he={class:"flex flex-col gap-4 mb-4"},we=e("label",{for:"modulename",class:"font-raleway"},"Module Description",-1),Ce={class:"flex justify-items-end"},Ve=e("div",{class:"text-center"},[e("h3",{class:"font-bold whitespace-nowrap"},"Create New Module")],-1),De={class:"flex flex-col gap-4 mb-4"},ke=e("label",{for:"modulename",class:"font-raleway"},"Module Name",-1),Ee={class:"flex flex-col gap-4 mb-4"},Me=e("label",{for:"modulename",class:"font-raleway"},"Module Description",-1),Se={class:"flex justify-items-end"},Ne={__name:"CourseDetail",setup(Te){const f=a([]),U=Z(),d=q(),N=U.params.slug,u=a(!1),p=a(!1);a(!1);const _=a(!1),C=a(!1),B=a({}),y=a(0),b=a(""),g=a(""),F=a("");a("");const c=a(""),V=a(""),M=()=>{w.get(`course/courses/${N}/`).then(t=>{f.value=t.data,d.add({severity:"success",summary:"Successful",detail:"Course Deleted",life:3e3})}).catch(t=>{console.error("Error deleting course:",t),d.add({severity:"error",summary:"Error",detail:"Error deleting course",life:3e3})})},$=()=>{w.post("course/modules/",{title:c.value,description:V.value,course:f.value.id}).then(t=>{d.add({severity:"success",summary:"Successful",detail:"Module added",life:3e3}),M()}).catch(t=>{console.error("Error adding module:",t),d.add({severity:"error",summary:"Error",detail:"Error adding module",life:3e3})})},A=()=>{p.value=!0;const t=new FormData;t.append("title",F.value),t.append("module",y.value),w.post("course/documents/",t,{headers:{"Content-Type":"multipart/form-data"}}).then(o=>{d.add({severity:"success",summary:"Successful",detail:"Course saved successfully",life:3e3}),getCourses(),productDialog.value=!1,resetForm()}).catch(o=>{console.error("Error saving course:",o),d.add({severity:"error",summary:"Error",detail:"Error saving course",life:3e3})})},j=()=>{const t={title:b.value,video_url:g.value,module:y.value};w.post("course/videos/",t).then(o=>{d.add({severity:"success",summary:"Successful",detail:"Course saved successfully",life:3e3}),getCourses(),productDialog.value=!1,resetForm()}).catch(o=>{console.error("Error saving course:",o),d.add({severity:"error",summary:"Error",detail:"Error saving course",life:3e3})}),b.value="",g.value="",_.value=!1},H=t=>{console.log(t)},I=()=>{B.value={},p.value=!1,u.value=!0},L=t=>{p.value=!1,_.value=!0,y.value=t},P=t=>{p.value=!1,C.value=!0,y.value=t};return J(()=>{M()}),(t,o)=>{const n=r("Button"),O=r("Toolbar"),R=r("vue-moments-ago"),z=r("Panel"),x=r("InputText"),D=r("Dialog"),G=r("Editor");return m(),h("div",Q,[e("div",W,[e("div",X,[l(O,{class:"mb-4"},{start:i(()=>[e("div",Y,[e("h4",ee,k(f.value.title),1)])]),end:i(()=>[l(n,{label:"Add Module",icon:"pi pi-plus",class:"mr-2",severity:"success",onClick:I})]),_:1}),e("div",oe,[(m(!0),h(S,null,T(f.value.modules,s=>(m(),K(z,{toggleable:"",key:s.index,class:"my-4"},{header:i(()=>[e("div",se,[e("span",le,k(s.title),1)])]),footer:i(()=>[e("div",te,[e("div",ae,[l(n,{icon:"pi pi-video",rounded:"",label:"Add Video",onClick:v=>L(s.id)},null,8,["onClick"]),l(n,{icon:"pi pi-file",label:"Add File",rounded:"",onClick:v=>P(s.id)},null,8,["onClick"]),l(n,{icon:"pi pi-trash",severity:"danger",rounded:"",label:"Delete Module",onClick:v=>H(s.id)},null,8,["onClick"])]),l(R,{prefix:"posted",suffix:"ago",date:"2018-05-02T20:22:22.285Z",lang:"en"})])]),default:i(()=>[e("div",{innerHTML:s.description},null,8,ne),e("div",ie,[(m(!0),h(S,null,T(s.videos,v=>(m(),h("div",{class:"py-2",key:v},[e("div",de,[e("p",re,k(v.title),1),ue,e("div",ce,[l(n,{icon:"pi pi-pencil",rounded:"",outlined:""}),l(n,{icon:"pi pi-trash",rounded:"",outlined:"",severity:"danger"})])])]))),128))])]),_:2},1024))),128))]),l(D,{visible:_.value,"onUpdate:visible":o[3]||(o[3]=s=>_.value=s),modal:"",header:"Header",style:{width:"40rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:i(()=>[ve]),default:i(()=>[e("form",{onSubmit:E(j,["prevent"])},[e("div",me,[fe,l(x,{modelValue:b.value,"onUpdate:modelValue":o[0]||(o[0]=s=>b.value=s),id:"videoname",class:"flex-auto",autocomplete:"off"},null,8,["modelValue"])]),e("div",pe,[_e,l(x,{modelValue:g.value,"onUpdate:modelValue":o[1]||(o[1]=s=>g.value=s),id:"videoname",class:"flex-auto",autocomplete:"off",type:"text"},null,8,["modelValue"])]),e("div",ye,[l(n,{label:"Cancel",text:"",severity:"secondary",onClick:o[2]||(o[2]=s=>u.value=!1),autofocus:""}),l(n,{label:"Save",outlined:"",severity:"primary",type:"submit",autofocus:""})])],32)]),_:1},8,["visible"]),l(D,{visible:C.value,"onUpdate:visible":o[7]||(o[7]=s=>C.value=s),modal:"",header:"Header",style:{width:"40rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:i(()=>[be]),default:i(()=>[e("form",{onSubmit:E(A,["prevent"])},[e("div",ge,[xe,l(x,{modelValue:c.value,"onUpdate:modelValue":o[4]||(o[4]=s=>c.value=s),id:"modulename",class:"flex-auto",autocomplete:"off"},null,8,["modelValue"])]),e("div",he,[we,e("input",{type:"file",name:"cover",accept:"image/*",onChange:o[5]||(o[5]=(...s)=>t.onUpload&&t.onUpload(...s)),ref:"files"},null,544)]),e("div",Ce,[l(n,{label:"Cancel",text:"",severity:"secondary",onClick:o[6]||(o[6]=s=>u.value=!1),autofocus:""}),l(n,{label:"Save",outlined:"",severity:"primary",type:"submit",autofocus:""})])],32)]),_:1},8,["visible"]),l(D,{visible:u.value,"onUpdate:visible":o[11]||(o[11]=s=>u.value=s),modal:"",header:"Header",style:{width:"40rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{header:i(()=>[Ve]),default:i(()=>[e("form",{onSubmit:E($,["prevent"])},[e("div",De,[ke,l(x,{modelValue:c.value,"onUpdate:modelValue":o[8]||(o[8]=s=>c.value=s),id:"modulename",class:"flex-auto",autocomplete:"off"},null,8,["modelValue"])]),e("div",Ee,[Me,l(G,{modelValue:V.value,"onUpdate:modelValue":o[9]||(o[9]=s=>V.value=s),editorStyle:"height: 220px"},null,8,["modelValue"])]),e("div",Se,[l(n,{label:"Cancel",text:"",severity:"secondary",onClick:o[10]||(o[10]=s=>u.value=!1),autofocus:""}),l(n,{label:"Save",outlined:"",severity:"primary",type:"submit",autofocus:""})])],32)]),_:1},8,["visible"])])])])}}};export{Ne as default};

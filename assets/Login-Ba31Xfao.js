import{P as w,r as l,Q as k,z as V,c as n,B as e,H as i,A as g,E as h,R as M,T as m,U as b,V as p,W as S,G as E,_ as P,o as u}from"./index-DX0kaMnH.js";const U={class:"pt-12"},q={class:"bg-gray-100 w-1/2 py-16 px-24 mx-auto text-gray-800 shadow-md rounded-lg"},A=e("img",{src:P,alt:"Devangwa Logo"},null,-1),B={class:"text-center py-3"},C=e("br",null,null,-1),D={class:"flex flex-col gap-2"},L=e("label",{for:"email"},"Enter email",-1),N={key:0,class:"text-red-600"},T={class:"flex flex-col gap-2 my-2"},R=e("label",{for:"password"},"Enter password",-1),j={key:0,class:"text-red-600"},W={class:"flex justify-between items-center"},z={class:"block my-4"},F=e("label",{for:"rememberMe",class:"inline-block text-gray-800"},"Remember me",-1),G={key:0,class:"text-red-600 text-center my-2"},H=e("button",{type:"submit",class:"w-full px-7 py-3 bg-devanga-primary text-white font-medium text-sm leading-snug uppercase rounded shadow-md hover:bg-blue-700 focus:bg-blue-700 focus:outline-none active:bg-blue-800 transition duration-150 ease-in-out"}," Sign in ",-1),J={__name:"Login",setup(I){const x=w(),o=l(""),a=l(""),d=l(!1),c=l(!1),v=l(""),y=k(),f=async()=>{try{if(c.value=!0,!o.value||!a.value)return;await y.login(o.value,a.value,d.value),x.push("/admin")}catch(t){console.error("Login error:",t),t.response&&t.response.status===401?t.value="Invalid email or password. Please try again.":t.value="An error occurred while logging in. Please try again later."}};return(t,s)=>{const _=V("router-link");return u(),n("div",U,[e("div",q,[A,e("h2",B,[i("Welcome to PAT Learning Management System. "),C,i(" Don't have an account yet? "),g(_,{to:{name:"register"},class:"text-sky-600"},{default:h(()=>[i("Sign up")]),_:1})]),e("form",{onSubmit:M(f,["prevent"])},[e("div",D,[L,m(e("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=r=>o.value=r),type:"email",class:"border px-2 py-1 rounded",placeholder:"mwajuma@gmail.com",required:""},null,512),[[b,o.value]]),c.value&&!o.value?(u(),n("small",N,"Email is required.")):p("",!0)]),e("div",T,[R,m(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=r=>a.value=r),type:"password",class:"border px-2 py-1 rounded",placeholder:"********",required:""},null,512),[[b,a.value]]),c.value&&!a.value?(u(),n("small",j,"Password is required.")):p("",!0)]),e("div",W,[e("div",z,[m(e("input",{id:"rememberMe","onUpdate:modelValue":s[2]||(s[2]=r=>d.value=r),type:"checkbox",class:"form-checkbox h-4 w-4 text-devanga-primary checked:bg-devanga-primary checked:border-devanga-primary focus:outline-none transition duration-200 mt-1 align-top"},null,512),[[S,d.value]]),F]),g(_,{to:{name:"forget-password"},class:"text-devanga-primary hover:text-blue-700 focus:text-blue-700 active:text-blue-800 duration-200 transition ease-in-out"},{default:h(()=>[i("Forgot password?")]),_:1})]),v.value?(u(),n("div",G,E(v.value),1)):p("",!0),H],32)])])}}};export{J as default};
